{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Admin login: show invalid-credentials message only for true credential failures",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Refine admin auth error classification so the UI shows the exact invalid-credentials message only when backend signals wrong email/password, and shows generic non-credential errors otherwise.",
      "acceptanceCriteria": [
        "When backend authentication fails due to wrong email/password, the UI displays exactly: \"Invalid email or password. Please check your credentials and try again.\"",
        "When backend authentication fails for reasons other than invalid credentials (e.g., actor not available, unauthorized, initialization issues), the UI does not display the invalid-credentials message and instead shows a generic failure message (existing behavior via parseAdminAuthError is preserved)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/utils/adminAuthError.ts",
          "operation": "modify",
          "description": "Tighten parseAdminAuthError invalid-credentials detection to only classify errors as invalid credentials when the backend message explicitly indicates authentication failure for email/password (e.g., contains \"Authentication failed\" or \"Check your credentials\"), and avoid classifying unrelated failures as invalid credentials."
        },
        {
          "path": "frontend/src/components/AdminLayout.tsx",
          "operation": "modify",
          "description": "Ensure the admin login UI uses parseAdminAuthError classification consistently so the toast displays the exact invalid-credentials string only for invalid-credential failures, and otherwise displays the existing generic/non-credential error messaging without showing the invalid-credentials message."
        }
      ]
    }
  ]
}